<div class="gallery">
  <!-- close area -->
  <div class="right-top">
    <div class="function-container">
        <i class="material-icons icon" (click)="isAutoPlay = !isAutoPlay">
          {{isAutoPlay? 'pause':'play_arrow'}}
        </i>
        <ng-container *ngIf="isDownLoad">
          <a #imgDownload hidden download></a>
          <i class="material-icons icon"
            [ngClass]=
            "{'disabled': !nowDState }"
            (click)="download(data[currentIndex])">file_download</i>
        </ng-container>
        <i class="material-icons icon" (click)="toggleFullScreen()">fullscreen</i>
        <i class="material-icons icon" (click)="closeView()">close</i>
    </div>
  </div>
  <!-- photo area -->
  <div class="show-container">
    <ngx-hm-carousel
      [current-index]="currentIndex"
      [autoplay]="isAutoPlay"
      [between-delay]="0"
      [drag-many]="false"
      (index-change)="switchIndex($event)">
      <ul ngx-hm-carousel-container
        class="container show">
        <li ngx-hm-carousel-item
          *ngFor="let item of data">

          <div
            class="item-container"
            *ngIf="item.type === 'youtube'">
            <div class="embed-container">
              <iframe [src]="item.url | safe:'resourceUrl'" frameborder="0" allowfullscreen></iframe>
            </div>
          </div>

          <div
            *ngIf="item.type === 'img'"
            class="item-container">
            <div class="img" [style.backgroundImage]="item.url | safe:'background-image'"></div>
          </div>

          <div
            *ngIf="item.type === 'video'"
            class="item-container">
            <video  [src]="item.url | safe:'url'" controls></video>
          </div>
        </li>
      </ul>

      <ng-template  #carouselPrev>
        <i class="material-icons icon">keyboard_arrow_left</i>
      </ng-template>

      <ng-template #carouselNext>
        <i class="material-icons icon">keyboard_arrow_right</i>
      </ng-template>

      <ng-template #carouselProgress let-model>
          <div class="progress" [style.width]="model.progress + '%'"></div>
      </ng-template>

    </ngx-hm-carousel>
  </div>
  <!-- select area -->
  <div class="select-container">
    <ngx-hm-carousel
      [current-index]="currentIndex"
      [drag-many]="true"
      [infinite]="false"
      show-num="auto">
      <ul ngx-hm-carousel-container
        class="container select">
        <li (ngx-hm-carousel-item)="switchIndex($event)"
          class="control_pane"
          *ngFor="let item of data">
          <div class="img"
            [style.backgroundImage]="item.defaultUrl | safe:'background-image'"></div>
        </li>
      </ul>
    </ngx-hm-carousel>
  </div>
</div>
